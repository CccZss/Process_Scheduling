webpackJsonp([1],{0:function(t,i,e){e("j1ja"),t.exports=e("NHnr")},Cjv3:function(t,i){},LdeV:function(t,i,e){t.exports=e.p+"static/img/01.745cdc6.png"},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});e("j1ja");var s=e("O534"),n=e("r2FF"),r=function(t,i,e,s,n,r,a,c){this.id=t,this.name=i,this.needTime=e,this.priority=s||0,this.hasRunTime=n||0,this.hasArriveTime=r||0,this.state=a||0,this.listLivel=c||0};r.prototype={addRunTime:function(t){t=t||1;var i=this.hasRunTime+t;return i<this.needTime?this.hasRunTime=i:this.hasRunTime=this.needTime,this.hasRunTime},addArriveTime:function(t){return t=t||1,this.hasArriveTime=this.hasArriveTime+t,this.hasArriveTime},getStateToString:function(){return 0===this.state?"就绪":1===this.state?"运行":"完成"},clearState:function(){this.hasRunTime=0,this.hasArriveTime=0,this.state=0,this.listLivel=0},turnRun:function(){this.state=1},turnReadly:function(){this.state=0},complete:function(){this.state=2},isRunning:function(){return 1===this.state},isReadly:function(){return 0===this.state},isComplete:function(){return 2===this.state}};var a=r,c=function(t){this.list=[],this.readList=[],this.level=t||0,this.length=0,this._currentPcb=void 0,this._nextPcb=void 0};c.prototype={_FCFS:function(){return this.readList.concat().sort(function(t,i){return t.id<i.id?-1:t.id>i.id?1:0})[0]},_SRR:function(){var t=this.readList.concat().sort(function(t,i){return t.id<i.id?-1:t.id>i.id?1:0});return this._currentPcb=this._nextPcb||t[0],this._nextPcb=t[(t.indexOf(this._currentPcb)+1)%this.readList.length],t[t.indexOf(this._currentPcb)]},_PSA:function(){return this.readList.concat().sort(function(t,i){return t.priority>i.priority?-1:t.priority<i.priority?1:0})[0]},_MFQ:function(){var t=this.readList.concat().sort(function(t,i){return t.listLivel<i.listLivel?-1:t.listLivel>i.listLivel?1:0});return t.length>=2&&t[0].listLivel<t[1].listLivel?this._currentPcb=t[0]:this._currentPcb=this._nextPcb||t[0],this._nextPcb=t[(t.indexOf(this._currentPcb)+1)%this.readList.length],void 0!==t[t.indexOf(this._currentPcb)]&&t[t.indexOf(this._currentPcb)].listLivel++,t[t.indexOf(this._currentPcb)]},addPCB:function(t){return this.list.push(t),this.readList.push(t),this.length=this.length+1,this.length},getLen:function(){return this.list.length},getList:function(){return this.list},nextTime:function(t,i){var e=this;switch(t){case 0:var s=this._FCFS();break;case 1:case 2:s=this._SRR();break;case 3:s=this._PSA();break;case 4:(s=this._MFQ())&&(i=s.listLivel)}void 0!==s?this.list.forEach(function(t){t.isComplete()||(t.id===s.id?t.addArriveTime(t.needTime-t.hasRunTime>i?i:t.needTime-t.hasRunTime):t.addArriveTime(i)),t.id===s.id?(t.addRunTime(i),t.turnRun(),t.needTime<=t.hasRunTime&&(t.complete(),e.readList=e.readList.filter(function(t){return t.id!==s.id}))):t.isComplete()||t.turnReadly()}):alert("所有进程调度已完成!")},clearState:function(){this.list=[],this.length=0},resect:function(){var t=this;this.readList=[],this.list.forEach(function(i){i.clearState(),t.readList.push(i)}),this._currentPcb=void 0,this._nextPcb=void 0}};var h=c,l={data:function(){return{algorithmList:["先来先服务","简单轮询法","可变时间片轮询法","最高优先级调度","多级反馈队列"],algorithm:0,processName:"d",needTime:10,priority:0,timeSlice:1,timeSliceDisable:!1,pcbList:[]}},components:{Button:n.Button,InputNumber:n.InputNumber,Input:n.Input,Select:n.Select,Option:n.Option,Slider:n.Slider},methods:{addProcess:function(){if(""!==this.processName.trim()){0===this.pcbList.length&&(this.pcbList=new h(0));var t=new a(this.pcbList.length,this.processName,this.needTime,this.priority);this.pcbList.addPCB(t)}else alert("进程名不能为空!")},nextTime:function(){this.pcbList.nextTime(this.algorithm,this.timeSlice)},clearAllProcessState:function(){this.pcbList.clearState()},resetPcbList:function(){this.pcbList.resect()}},watch:{algorithm:function(){this.pcbList.resect(),1===this.algorithm||4===this.algorithm?(this.timeSlice=1,this.timeSliceDisable=!0):this.timeSliceDisable=!1}},mounted:function(){var t=new a(0,"a",13,1),i=new a(1,"b",24,2),e=new a(2,"c",35,3);this.pcbList=new h(0),this.pcbList.addPCB(t),this.pcbList.addPCB(i),this.pcbList.addPCB(e)}},o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("section",[e("h1",{staticClass:"center"},[t._v("Process Scheduling ---- By Czs")]),t._v(" "),e("div",{staticClass:"wrap"},[e("span",{staticClass:"item-wrap"},[e("span",[t._v("进程名：")]),e("Input",{staticClass:"w50 ib",model:{value:t.processName,callback:function(i){t.processName=i},expression:"processName"}}),t._v(" "),e("span",{staticClass:"ml10"},[t._v("优先权：")]),e("InputNumber",{staticClass:"w50 inline-block",attrs:{min:0},model:{value:t.priority,callback:function(i){t.priority=i},expression:"priority"}}),t._v(" "),e("span",{staticClass:"ml10"},[t._v("所需时间：")]),e("InputNumber",{staticClass:"w50 inline-block",attrs:{min:1},model:{value:t.needTime,callback:function(i){t.needTime=i},expression:"needTime"}}),t._v(" "),e("Button",{staticClass:"ml10",attrs:{type:"primary"},on:{click:t.addProcess}},[t._v("添加")])],1),t._v(" "),e("div",{staticClass:"time-slice"},[e("Select",{staticClass:"w200 ib algorithm-select",attrs:{size:"large"},model:{value:t.algorithm,callback:function(i){t.algorithm=i},expression:"algorithm"}},t._l(t.algorithmList,function(i,s){return e("Option",{key:s,attrs:{value:s}},[t._v(t._s(i))])})),t._v(" "),e("span",{staticClass:"ml10"},[t._v("时间片长度：")]),t._v(" "),e("InputNumber",{staticClass:"w50 inline-block",attrs:{min:1,disabled:t.timeSliceDisable},model:{value:t.timeSlice,callback:function(i){t.timeSlice=i},expression:"timeSlice"}})],1),t._v(" "),e("div",{staticClass:"table-wrap"},[e("table",[t._m(0),t._v(" "),t._l(t.pcbList.list,function(i,s){return e("tr",{key:s},[e("td",[t._v(t._s(i.name))]),t._v(" "),e("td",[t._v(t._s(i.priority))]),t._v(" "),e("td",[t._v(t._s(i.needTime))]),t._v(" "),e("td",[t._v(t._s(i.hasRunTime))]),t._v(" "),e("td",[t._v(t._s(i.hasArriveTime+"("+i.id+")"))]),t._v(" "),e("td",[t._v(t._s(i.getStateToString()))]),t._v(" "),e("td",[t._v(t._s(i.listLivel))])])})],2)]),t._v(" "),e("Button",{attrs:{type:"primary"},on:{click:t.clearAllProcessState}},[t._v("清空所有进程")]),t._v(" "),e("Button",{attrs:{type:"primary"},on:{click:t.resetPcbList}},[t._v("重置进程状态")]),t._v(" "),e("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:t.nextTime}},[t._v("下一时间")])],1)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("tr",[i("th",[this._v("进程名")]),this._v(" "),i("th",[this._v("优先级")]),this._v(" "),i("th",[this._v("需要运行时间")]),this._v(" "),i("th",[this._v("已运行时间")]),this._v(" "),i("th",[this._v("已就绪时间")]),this._v(" "),i("th",[this._v("状态")]),this._v(" "),i("th",[this._v("队列")])])}]};var u={name:"app",data:function(){return{timer:void 0,imgs:[e("LdeV"),e("ZDii"),e("ih5A")]}},computed:{},components:{homePage:e("Buhn")(l,o,!1,function(t){e("Cjv3")},"data-v-47dbc912",null).exports},created:function(){}},d={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("home-page")],1)},staticRenderFns:[]};var m=e("Buhn")(u,d,!1,function(t){e("uJ29")},null,null).exports;e("NPtz"),e("j0dy");s.default.config.productionTip=!1,new s.default({el:"#app",template:"<App/>",components:{App:m}})},NPtz:function(t,i){},ZDii:function(t,i,e){t.exports=e.p+"static/img/02.c53f86f.png"},ih5A:function(t,i,e){t.exports=e.p+"static/img/03.d0eee92.png"},j0dy:function(t,i){},uJ29:function(t,i){}},[0]);
//# sourceMappingURL=app.93fdbcfe9b8484369610.js.map